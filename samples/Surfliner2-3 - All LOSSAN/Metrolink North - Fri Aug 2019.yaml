route: Surfliner2-3
date: 2019-08-09
gtfs:
  - url: http://transitfeeds.com/p/metrolink/332/20190817/download
    groups:
      - note: $dec=2

        ##
        ## Ventura County Line
        ##
      - selection:
            route_id: 'Ventura County Line'
        station_map:
            107: Track 8
            169: Montalvo Metrolink

        # Toward Union Station
      - selection:
            route_id: 'Ventura County Line'
            direction_id: '^1$'
        consist: Surfliner Default
      - selection:
            trip_short_name: '^9\d\d$'
            direction_id: '^1$'
        path: YoRyan_BurAir-LA
      - selection:
            trip_short_name: '^(108|112|150)$'
        path: YoRyan_Chats-LA
      - selection:
            trip_short_name: '^(100|110|116|118)$'
        path: YoRyan_Moor-LA
      - selection:
            trip_short_name: '^(102|104|106)$'
        # NOTE: The dispatcher won't let trains onto the mainline if they start
        # at the Montalvo platform.
        #path: YoRyan_Mon-LA
        path: YoRyan_Oxn-LA
        station_map:
            169:

        # Toward Ventura
      - selection:
            route_id: 'Ventura County Line'
            direction_id: '^0$'
        consist: Surfliner Default
      - selection:
            trip_headsign: '^Burbank Airport'
        path: YoRyan_LA-BurAir
      - selection:
            trip_headsign: '^Chatsworth$'
        path: YoRyan_LA-Chats
      - selection:
            trip_headsign: '^Moorpark$'
        path: YoRyan_LA-Moor
      - selection:
            trip_headsign: '^Ventura'
        path: YoRyan_LA-Mon

        ##
        ## Antelope Valley Line
        ##
      - selection:
            route_id: 'Antelope Valley Line'
        station_map:
            107: Track 4
            186: # Burbank Airport (VC line)

        # Toward Union Station
      - selection:
            route_id: 'Antelope Valley Line'
            direction_id: '^1$'
        path: YoRyan_Bur-LA
        consist: Surfliner Default
        # NOTE: Certain AVL trains deadlock if routed to track 4.
        station_map:
            107: Track 6

        # Toward Lancaster
      - selection:
            route_id: 'Antelope Valley Line'
            direction_id: '^0$'
        path: YoRyan_LA-Bur
        consist: Surfliner Default

station_commands:
    "": $stoptime=30 # override the default 3-minute waiting time
    Track 4: $stoptime=60
    Track 6: $stoptime=60
    Track 8: $stoptime=60
